(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{277:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),c=n.n(i),o=n(14),s=n(48),l=n(18),u=n(16),d=n.n(u),b=n(23),j=n(335),p=n(316),h=n(279),m=n(334),x=n(317),O=n(318),f=n(38),g=n(40),v=n(311),y=n(339),w=n(309),S=n(2),C=Object(w.a)((function(e){return{root:{boxSizing:"border-box",paddingTop:8,paddingBottom:8,overflow:"hidden",transition:".7s cubic-bezier(0, 0.55, 0.45, 1)",display:"flex",alignItems:"center",color:e.palette.error.main},ico:{marginRight:8},enter:{maxHeight:0,opacity:0},enterActive:{maxHeight:100,opacity:1},exit:{maxHeight:100},exitActive:{maxHeight:0,opacity:0}}})),k=function(e){var t=e.msg,n=e.show,r=C(),i=r.root,c=r.ico,o=Object(g.a)(r,["root","ico"]),s=Object(a.useRef)();return Object(a.useEffect)((function(){s.current=t})),Object(S.jsx)(y.a,{in:n,unmountOnExit:!0,timeout:700,classNames:o,children:Object(S.jsxs)(j.a,{className:i,children:[Object(S.jsx)(v.a,{color:"inherit",fontSize:"small",className:c}),Object(S.jsx)(h.a,{children:t||s.current})]})})},B=n(37),T="INIT",E="USER_AUTHORIZE",A="USER_UNAUTHORIZE",I="ADD_TASK",F="ADD_BOARD",D="DELETE_TASK",N="DELETE_BOARD",W="CHANGE_TASK",z="MOVE_TASK",M="BOARD_INIT",P="RENAME_BOARD",H="OPEN_MODAL",_="CLOSE_MODAL",L=n(8),R=n(11),V={isInit:!1,user:null};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return console.log(t.type,t),Object(L.a)(Object(L.a)({},e),{},{isInit:!0,user:t.payload});case E:return Object(L.a)(Object(L.a)({},e),{},{user:t.payload});case A:return Object(L.a)(Object(L.a)({},e),{},{user:null});default:return e}},U=n(26),J=[];var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return t.payload.tasks;case z:return e.map((function(e){return e.id===t.payload.id?Object(L.a)(Object(L.a)({},e),{},{board:t.payload.board}):e}));case W:return e.map((function(e){return e.id===t.payload.id?Object(L.a)(Object(L.a)({},e),t.payload):e}));case I:return[].concat(Object(U.a)(e),[t.payload]);case D:return e.filter((function(e){return e.id!==t.payload.id}));default:return e}},G={isOpen:!1,type:null,props:{}};var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(L.a)({isOpen:!0},t.payload);case _:return G;default:return e}},Q=[];var X=Object(R.c)({system:K,tasks:q,modal:Z,boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return t.payload.boards;case P:return e.map((function(e){return e.id===t.payload.id?Object(L.a)(Object(L.a)({},e),{},{name:t.payload.name}):e}));case F:return[].concat(Object(U.a)(e),[t.payload]);case N:return e.filter((function(e){return e.id!==t.payload.id}));default:return e}}}),Y=n(153),$=Object(R.d)(X,Object(R.a)(Y.a)),ee="https://hedelwing-kanban.herokuapp.com",te=function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token")){e.next=4;break}throw $.dispatch({type:A}),new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 4:return e.next=6,fetch(t,Object(L.a)(Object(L.a)({},n),{},{headers:Object(L.a)(Object(L.a)({},null===n||void 0===n?void 0:n.headers),{},{Authorization:"Bearer ".concat(a)})}));case 6:if((r=e.sent).ok){e.next=10;break}throw 401===r.status&&(localStorage.removeItem("token"),$.dispatch({type:A})),new Error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 10:return e.next=12,r.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){return function(e){return te("".concat(ee,"/users/me")).then((function(t){var n=t.username,a=t.email;return e({type:T,payload:{username:n,email:a}})})).catch((function(t){return e({type:T,payload:null})}))}};function ae(e){return function(t,n){return function(){var a=Object(b.a)(d.a.mark((function a(r){var i,c,o,s,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return i=a.sent,a.next=6,i.json();case 6:c=a.sent,i.ok?(o=c.user,s=o.email,l=o.username,localStorage.setItem("token",c.jwt),r({type:E,payload:{email:s,username:l}})):n("\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0438\u043c\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n("\u041d\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c");case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}}var re=ae("".concat(ee,"/auth/local")),ie=ae("".concat(ee,"/auth/local/register")),ce=function(){return function(e){localStorage.removeItem("token"),e({type:A})}},oe=n(22),se=n(313),le=n(280),ue=n(314),de=n(315),be=function(e){var t=Object(a.useState)(!1),n=Object(oe.a)(t,2),r=n[0],i=n[1];return Object(S.jsx)(m.a,Object(L.a)({type:r?"text":"password",size:"small",variant:"outlined",fullWidth:!0,InputProps:{endAdornment:Object(S.jsx)(se.a,{position:"end",children:Object(S.jsx)(le.a,{size:"small",onClick:function(){return i((function(e){return!e}))},children:r?Object(S.jsx)(ue.a,{}):Object(S.jsx)(de.a,{})})})}},e))},je=B.a({identifier:B.c().required("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").email("\u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),password:B.c().required("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").matches(/[A-Z\u0410-\u042f\u0401]/,"\u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b").matches(/[a-z\u0430-\u044f\u0451]/,"\u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c c\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b").matches(/\d/,"\u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b").min(8,"\u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),pe=Object(o.b)(null,(function(e){return Object(R.b)({signIn:re},e)}))((function(e){var t,n,a=e.signIn,r=Object(f.a)({initialValues:{identifier:"",password:""},validationSchema:je,onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(t,n){var r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,i=n.setStatus,e.next=3,a(t,i);case 3:r(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),i=r.handleSubmit,c=r.values,o=r.errors,l=r.touched,u=r.handleChange,g=r.handleBlur,v=r.status,y=r.isSubmitting;return Object(S.jsx)(j.a,{maxWidth:360,mx:"auto",children:Object(S.jsx)(p.a,{elevation:3,children:Object(S.jsxs)(j.a,{p:2,children:[Object(S.jsx)(h.a,{align:"center",variant:"h6",gutterBottom:!0,children:"\u0412\u0445\u043e\u0434"}),Object(S.jsxs)("form",{noValidate:!0,onSubmit:i,children:[Object(S.jsx)(k,{msg:v,show:!!v}),Object(S.jsxs)(j.a,{py:1,children:[Object(S.jsx)(m.a,{name:"identifier",label:"Email",size:"small",variant:"outlined",onChange:u,onBlur:g,value:c.identifier,fullWidth:!0}),Object(S.jsx)(k,{show:!(!l.identifier||!o.identifier),msg:null===(t=o.identifier)||void 0===t?void 0:t.toString()})]}),Object(S.jsxs)(j.a,{py:1,children:[Object(S.jsx)(be,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:u,onBlur:g,value:c.password}),Object(S.jsx)(k,{show:!(!l.password||!o.password),msg:null===(n=o.password)||void 0===n?void 0:n.toString()})]}),Object(S.jsx)(j.a,{py:1,children:Object(S.jsxs)(h.a,{align:"center",children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"," ",Object(S.jsx)(s.b,{to:"/signup",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})}),Object(S.jsx)(j.a,{py:1,children:Object(S.jsx)(x.a,{disabled:y,type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:y?Object(S.jsx)(O.a,{size:24}):"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})]})})})})),he=Object(o.b)((function(e){return e.system}))((function(e){var t=e.children,n=e.user,a=Object(g.a)(e,["children","user"]);return Object(S.jsx)(l.b,Object(L.a)(Object(L.a)({},a),{},{children:n?t:Object(S.jsx)(l.a,{to:"/signin"})}))})),me=Object(o.b)((function(e){return e.system}))((function(e){var t=e.children,n=e.user,a=Object(g.a)(e,["children","user"]);return Object(S.jsx)(l.b,Object(L.a)(Object(L.a)({},a),{},{children:n?Object(S.jsx)(l.a,{to:"/"}):t}))})),xe=n(342),Oe=function(){return function(e){Promise.all(["".concat(ee,"/boards"),"".concat(ee,"/tasks")].map((function(e){return te(e)}))).then((function(t){var n=Object(oe.a)(t,2),a=n[0],r=n[1];return e({type:M,payload:{boards:a.map((function(e){return{id:e.id,name:e.name}})),tasks:r.map((function(e){return{id:e.id,name:e.name,description:e.description,board:e.board.id}}))}})})).catch((function(e){return console.log(e.message)}))}},fe=function(e){return function(t){return te("".concat(ee,"/boards/").concat(e),{method:"DELETE"}).then((function(e){var n=e.id;return t({type:N,payload:{id:n}})})).catch((function(e){return console.log(e.message)}))}},ge=function(e){var t=e.id,n=e.name;return function(e){return te("".concat(ee,"/boards/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n})}).then((function(t){var n=t.id,a=t.name;return e({type:P,payload:{id:n,name:a}})})).catch((function(e){return console.log(e.message)}))}},ve=n(325),ye=n(322),we=n(336),Se=function(){return{type:_}},Ce=function(e,t){return{type:H,payload:{type:e,props:t}}},ke=function(e,t){return function(n){return te("".concat(ee,"/tasks/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:t})}).then((function(e){var t=e.id,a=e.board;return n({type:z,payload:{id:t,board:a.id}})})).catch((function(e){return console.log(e.message)}))}},Be=function(e){return function(t){return function(n){return te("".concat(ee,"/tasks/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){var t=e.id,a=e.name,r=e.description;n({type:W,payload:{id:t,name:a,description:r}}),n(Se())})).catch((function(e){return console.log(e.message)}))}}},Te=function(e){return function(t){return te("".concat(ee,"/tasks/").concat(e),{method:"DELETE"}).then((function(e){var n=e.id;return t({type:D,payload:{id:n}})})).catch((function(e){return console.log(e.message)}))}},Ee=n(340),Ae=n(320),Ie=n(324),Fe=n(321),De=n(323),Ne=n(337),We=Object(w.a)({accordion:function(e){return{opacity:e.isDragging?.3:1}},expandMore:function(e){return{transition:".3s ease-in",transform:e.expanded?"rotate(-180deg)":"rotate(0)"}},details:{wordBreak:"break-word"}}),ze=Object(a.memo)((function(e){var t=e.name,n=e.id,a=e.board,i=e.description,c=e.deleteTask,o=e.openModal,s=r.a.useState(!1),l=Object(oe.a)(s,2),u=l[0],d=l[1],b=Object(Ne.a)((function(){return{item:{type:"TASK",board:a,id:n},collect:function(e){return{isDragging:e.isDragging()}}}}),[]),p=Object(oe.a)(b,2),m=p[0].isDragging,x=p[1],O=We({expanded:u,isDragging:m}),f=O.accordion,g=O.expandMore,v=O.details;return Object(S.jsx)(j.a,{pt:1,children:Object(S.jsxs)(Ee.a,{expanded:u,ref:x,className:f,children:[Object(S.jsxs)(Ae.a,{onClick:function(e){return e.preventDefault()},children:[Object(S.jsx)(j.a,{flex:1,children:Object(S.jsx)(h.a,{variant:"h6",children:t})}),Object(S.jsx)(j.a,{mr:.5,children:Object(S.jsx)(le.a,{size:"small",color:"primary",onClick:function(){return o("CHANGE_TASK",{name:t,id:n,description:i})},children:Object(S.jsx)(Fe.a,{})})}),Object(S.jsx)(j.a,{mr:.5,children:Object(S.jsx)(le.a,{size:"small",color:"primary",onClick:function(){c(n)},children:Object(S.jsx)(ye.a,{})})}),Object(S.jsx)(le.a,{size:"small",color:"primary",disabled:!i,onClick:function(){d((function(e){return!e}))},children:Object(S.jsx)(De.a,{className:g})})]}),Object(S.jsx)(Ie.a,{className:v,children:Object(S.jsx)(h.a,{children:i})})]})})})),Me=Object(o.b)(null,(function(e){return{deleteTask:Object(R.b)(Te,e),openModal:Object(R.b)(Ce,e)}}))(ze),Pe=Object(w.a)((function(e){return{card:function(t){var n=t.isOver;return{backgroundColor:n?"#F0FAFA":e.palette.secondary.light,padding:8,transform:n?"translate3d(0,0,0) scale(1.025)":"translate3d(0,0,0) scale(1)",transition:".3s ease",width:360,marginRight:16,boxShadow:n?e.shadows[6]:e.shadows[3]}},enter:{maxHeight:0,opacity:0,overflow:"hidden",transition:"max-height .3s ease, opacity .2s ease .3s"},enterActive:{maxHeight:2e3,opacity:1},exit:{maxHeight:2e3,opacity:0,overflow:"hidden",transition:"opacity .3s ease, max-height .2s ease .3s"},exitActive:{opacity:0,maxHeight:0}}})),He=Object(a.memo)((function(e){var t=e.id,n=e.name,a=e.tasks,i=e.openModal,c=e.deleteBoard,o=e.renameBoard,s=e.moveTask,l=Object(we.a)({accept:"TASK",drop:function(e){e.board!==t&&s(e.id,t)},collect:function(e){return{isOver:e.isOver()&&e.canDrop()}},canDrop:function(e){return e.board!==t}}),u=Object(oe.a)(l,2),x=u[0].isOver,f=u[1],v=Pe({isOver:x}),w=v.card,C=Object(g.a)(v,["card"]),k=r.a.useState(!1),B=Object(oe.a)(k,2),T=B[0],E=B[1],A=r.a.useState(n),I=Object(oe.a)(A,2),F=I[0],D=I[1],N=r.a.useState(!1),W=Object(oe.a)(N,2),z=W[0],M=W[1];return Object(S.jsxs)(p.a,{ref:f,className:w,children:[Object(S.jsx)(j.a,{px:1,height:64,display:"flex",alignItems:"center",borderBottom:"1px solid #4C385644",children:T?Object(S.jsx)("form",{style:{flex:1},onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!F||F===n){e.next=8;break}return M(!0),e.next=5,o({id:t,name:F});case 5:M(!1),e.next=9;break;case 8:D(n);case 9:E(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(S.jsx)(j.a,{flex:1,children:Object(S.jsx)(m.a,{name:"name",size:"small",fullWidth:!0,value:F,label:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",autoFocus:!0,autoComplete:"off",onChange:function(e){var t=e.currentTarget.value;return D(t)},InputProps:{endAdornment:z&&Object(S.jsx)(se.a,{position:"end",children:Object(S.jsx)(O.a,{size:20})})},onBlur:function(){return E(!1)}})})}):Object(S.jsxs)(j.a,{display:"flex",flex:1,justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)(j.a,{py:1.5,minHeight:40,onClick:function(){return E(!0)},children:Object(S.jsx)(h.a,{variant:"h6",align:"center",children:n})}),Object(S.jsxs)(j.a,{children:[Object(S.jsx)(j.a,{display:"inline",mr:1,children:Object(S.jsx)(le.a,{size:"small",color:"primary",onClick:function(){return i("NEW_TASK",{board:t})},children:Object(S.jsx)(ve.a,{})})}),Object(S.jsx)(le.a,{size:"small",color:"primary",onClick:function(){return c(t)},children:Object(S.jsx)(ye.a,{})})]})]})}),Object(S.jsx)(j.a,{py:2,children:Object(S.jsx)(xe.a,{className:"todo-list",children:a.map((function(e){return Object(S.jsx)(y.a,{timeout:500,classNames:Object(L.a)({},C),children:Object(S.jsx)(j.a,{children:Object(S.jsx)(Me,Object(L.a)({},e))})},e.id)}))})})]})})),_e=Object(o.b)((function(e,t){return{tasks:e.tasks.filter((function(e){return e.board===t.id}))}}),(function(e){return{deleteBoard:Object(R.b)(fe,e),renameBoard:Object(R.b)(ge,e),moveTask:Object(R.b)(ke,e),openModal:Object(R.b)(Ce,e)}}))(He),Le=Object(o.b)(null,{addBoard:function(e){return function(t){return te("".concat(ee,"/boards"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){var n=e.id,a=e.name;return t({type:F,payload:{id:n,name:a}})})).catch((function(e){return console.log(e.message)}))}}})((function(e){var t=e.addBoard,n=Object(f.a)({initialValues:{name:""},onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(n,a){var r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.resetForm,i=a.setSubmitting,e.next=3,t(n);case 3:r(),i(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),validate:function(e){return e.name?{}:{name:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}},validateOnMount:!0}),a=n.validateForm,r=n.handleSubmit,i=n.handleChange,c=n.values,o=n.isSubmitting,s=n.isValid;return Object(S.jsx)(p.a,{children:Object(S.jsx)(j.a,{px:1,py:2,children:Object(S.jsxs)("form",{onChange:function(){return a()},onSubmit:r,children:[Object(S.jsx)(j.a,{pb:2,children:Object(S.jsx)(m.a,{inputProps:{maxLength:16},autoComplete:"off",onChange:i,name:"name",value:c.name,label:"\u041d\u043e\u0432\u0430\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0430",fullWidth:!0})}),Object(S.jsx)(x.a,{disabled:o||!s,type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:o?Object(S.jsx)(O.a,{size:24}):"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})})})),Re=n(326),Ve=n(341),Ke=n(327),Ue=n(328),Je=Object(o.b)(null,{addTask:function(e){return function(t){return te("".concat(ee,"/tasks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){var n=e.id,a=e.name,r=e.description,i=e.board;t({type:I,payload:{id:n,name:a,description:r,board:i.id}}),t(Se())})).catch((function(e){return console.log(e.message)}))}}})((function(e){var t=e.board,n=e.addTask,a=Object(f.a)({initialValues:{description:"",name:""},onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(a,r){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.setSubmitting,e.next=3,n(Object(L.a)(Object(L.a)({},a),{},{board:t}));case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),validate:function(e){return e.name?{}:{name:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}},isInitialValid:!1});return Object(S.jsxs)("form",{onChange:function(){return a.validateForm()},onSubmit:a.handleSubmit,children:[Object(S.jsx)(j.a,{pb:3,children:Object(S.jsx)(m.a,{onChange:a.handleChange,size:"small",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",autoComplete:"off",variant:"outlined",fullWidth:!0,value:a.values.name,name:"name",inputProps:{maxLength:50}})}),Object(S.jsx)(j.a,{pb:3,children:Object(S.jsx)(m.a,{onChange:a.handleChange,size:"small",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",multiline:!0,rows:5,variant:"outlined",fullWidth:!0,value:a.values.description,name:"description"})}),Object(S.jsx)(j.a,{pb:2,children:Object(S.jsx)(x.a,{disabled:a.isSubmitting||!a.isValid,type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:a.isSubmitting?Object(S.jsx)(O.a,{size:24}):"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),qe=Object(a.memo)((function(e){var t=e.name,n=e.description,a=e.changeTask,r=Object(f.a)({initialValues:{description:n,name:t},onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,a(t);case 3:r(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),validate:function(e){return e.name?{}:{name:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}},isInitialValid:!1}),i=r.validateForm,c=r.handleSubmit,o=r.handleChange,s=r.values,l=r.isSubmitting,u=r.isValid;return Object(S.jsxs)("form",{onChange:function(){return i()},onSubmit:c,children:[Object(S.jsx)(j.a,{pb:3,children:Object(S.jsx)(m.a,{onChange:o,size:"small",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",autoComplete:"off",variant:"outlined",fullWidth:!0,value:s.name,name:"name",inputProps:{maxLength:50}})}),Object(S.jsx)(j.a,{pb:3,children:Object(S.jsx)(m.a,{onChange:o,size:"small",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",multiline:!0,rows:5,variant:"outlined",fullWidth:!0,value:s.description,name:"description"})}),Object(S.jsx)(j.a,{pb:2,children:Object(S.jsx)(x.a,{disabled:l||!u,type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:l?Object(S.jsx)(O.a,{size:24}):"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),Ge=Object(o.b)(null,(function(e,t){var n=t.id;return{changeTask:Object(R.b)(Be(n),e)}}))(qe),Ze=r.a.forwardRef((function(e,t){return Object(S.jsx)(Re.a,Object(L.a)({direction:"up",ref:t},e))})),Qe=Object(o.b)((function(e){return{modal:e.modal}}),{closeModal:Se})((function(e){var t=e.modal,n=t.isOpen,a=t.type,r=t.props,i=e.closeModal,c=function(e,t){switch(e){case"NEW_TASK":return{title:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",body:Object(S.jsx)(Je,Object(L.a)({},t))};case"CHANGE_TASK":return{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",body:Object(S.jsx)(Ge,Object(L.a)({},t))};default:return{title:"\u041e\u0448\u0438\u0431\u043a\u0430",body:null}}}(a,r),o=c.title,s=c.body;return Object(S.jsx)(Ve.a,{TransitionComponent:Ze,keepMounted:!0,maxWidth:"xs",fullWidth:!0,open:n,onClose:i,children:Object(S.jsxs)(Ke.a,{children:[Object(S.jsxs)(j.a,{display:"flex",alignItems:"center",justifyContent:"space-between",pb:2,children:[Object(S.jsx)(h.a,{variant:"h5",children:o}),Object(S.jsx)(le.a,{onClick:i,children:Object(S.jsx)(Ue.a,{})})]}),s]})})})),Xe=Object(w.a)((function(e){return{root:{display:"inline-flex",flexWrap:"nowrap",alignItems:"flex-start",paddingLeft:16,paddingRight:16},transitionItem:{width:360,"&:not(:last-child)":{marginRight:e.spacing(2)}},enter:{maxHeight:0,maxWidth:0,opacity:0,overflow:"hidden",transition:"max-height, max-width .3s ease, opacity .2s ease .3s"},enterActive:{maxHeight:2e3,maxWidth:1e3,opacity:1},exit:{maxHeight:2e3,maxWidth:1e3,opacity:0,overflow:"hidden",transition:"opacity .3s ease, max-height, max-width .2s ease .3s"},exitActive:{opacity:0,maxHeight:0,maxWidth:0}}})),Ye=Object(o.b)((function(e){return{boards:e.boards}}),(function(e){return Object(R.b)({boardInit:Oe},e)}))((function(e){var t=e.boardInit,n=e.boards;Object(a.useEffect)((function(){t()}),[]);var r=Xe(),i=r.root,c=r.transitionItem,o=Object(g.a)(r,["root","transitionItem"]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(xe.a,{className:i,children:[n.map((function(e){return Object(S.jsx)(y.a,{timeout:500,classNames:o,children:Object(S.jsx)("div",{className:c,children:Object(S.jsx)(_e,Object(L.a)({},e))})},e.id)})),Object(S.jsx)(y.a,{timeout:500,classNames:o,children:Object(S.jsx)("div",{className:c,children:Object(S.jsx)(Le,{})})},"newBoard")]}),Object(S.jsx)(Qe,{})]})})),$e=n(329),et=n(330),tt=n(331),nt=n(332),at=n(154),rt=Object(at.a)({palette:{primary:{light:"#B690AA",main:"#946184",dark:"#634058"},secondary:{light:"#F8F2F3",main:"#DBBDC2",dark:"#BE8991"}},overrides:{MuiTypography:{root:{color:"#57384F"},h3:{fontFamily:"'Lato', sans-serif",textTransform:"uppercase",fontWeight:"bold"},h6:{fontFamily:"'Oswald', sans-serif",fontWeight:"bold"},body1:{fontFamily:"'Oswald', sans-serif"}},MuiIconButton:{colorPrimary:{boxShadow:"rgba(183, 164, 174, 0.25) 0px 50px 100px -20px, #948E9988 0px 30px 60px -30px, #946184 0px -2px 6px 0px inset","&.Mui-disabled":{boxShadow:"rgba(183, 164, 174, 0.25) 0px 50px 100px -20px, #948E9988 0px 30px 60px -30px, #C8BCC2 0px -2px 6px 0px inset",color:"#C8BCC2"}}},MuiButton:{contained:{"&.Mui-disabled":{color:"#C8BCC2",backgroundColor:"#F6F4F5"}}}}}),it=(Object(at.a)({palette:{primary:{light:"#B9C5ED",main:"#3B60CE",dark:"#254093"},secondary:{light:"#F2F3F8",main:"#BDC2DB",dark:"#8991BE"}},overrides:{MuiTypography:{root:{color:"#202846",fontFamily:"'Oswald', sans-serif"},h3:{fontFamily:"'Lato', sans-serif",textTransform:"uppercase",fontWeight:"bold"},h6:{fontWeight:"bold"}},MuiIconButton:{colorPrimary:{boxShadow:"rgba(183, 164, 174, 0.25) 0px 50px 100px -20px, #948E9988 0px 30px 60px -30px, #8991BE 0px -2px 6px 0px inset","&.Mui-disabled":{boxShadow:"rgba(183, 164, 174, 0.25) 0px 50px 100px -20px, #948E9988 0px 30px 60px -30px, #F2F3F8 0px -2px 6px 0px inset",color:"#BDC2DB"}}},MuiButton:{contained:{"&.Mui-disabled":{color:"#BDC2DB",backgroundColor:"#F2F3F8"}}}}}),B.a({username:B.c().required("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),email:B.c().required("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").email("\u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),password:B.c().required("\u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").matches(/[A-Z\u0410-\u042f\u0401]/,"\u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b").matches(/[a-z\u0430-\u044f\u0451]/,"\u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c c\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b").matches(/\d/,"\u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b").min(8,"\u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),confirmPassword:B.c().oneOf([B.b("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c")})),ct=Object(o.b)(null,(function(e){return Object(R.b)({signUp:ie},e)}))((function(e){var t,n,a,r,i=e.signUp,c=Object(f.a)({initialValues:{username:"",email:"",password:"",confirmPassword:""},validationSchema:it,onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a,r,c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.email,c=t.password,o=n.setSubmitting,s=n.setStatus,e.next=4,i({username:a,email:r,password:c},s);case 4:o(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),o=c.handleSubmit,l=c.values,u=c.errors,g=c.touched,v=c.handleChange,y=c.handleBlur,w=c.status,C=c.isSubmitting;return Object(S.jsx)(j.a,{maxWidth:360,mx:"auto",children:Object(S.jsx)(p.a,{elevation:3,children:Object(S.jsxs)(j.a,{p:2,children:[Object(S.jsx)(h.a,{align:"center",variant:"h6",gutterBottom:!0,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsxs)("form",{noValidate:!0,onSubmit:o,children:[Object(S.jsx)(k,{msg:w,show:!!w}),Object(S.jsxs)(j.a,{py:1,children:[Object(S.jsx)(m.a,{name:"username",autoComplete:"off",label:"\u0418\u043c\u044f",size:"small",variant:"outlined",onChange:v,onBlur:y,value:l.username,fullWidth:!0}),Object(S.jsx)(k,{show:!(!g.username||!u.username),msg:null===(t=u.username)||void 0===t?void 0:t.toString()})]}),Object(S.jsxs)(j.a,{py:1,children:[Object(S.jsx)(m.a,{name:"email",autoComplete:"off",label:"Email",size:"small",variant:"outlined",onChange:v,onBlur:y,value:l.email,fullWidth:!0}),Object(S.jsx)(k,{show:!(!g.email||!u.email),msg:null===(n=u.email)||void 0===n?void 0:n.toString()})]}),Object(S.jsxs)(j.a,{py:1,children:[Object(S.jsx)(be,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:v,onBlur:y,value:l.password}),Object(S.jsx)(k,{show:!!g.password,msg:null===(a=u.password)||void 0===a?void 0:a.toString()})]}),Object(S.jsxs)(j.a,{py:1,children:[Object(S.jsx)(be,{name:"confirmPassword",label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:v,onBlur:y,value:l.confirmPassword}),Object(S.jsx)(k,{show:!(!g.confirmPassword||!u.confirmPassword),msg:null===(r=u.confirmPassword)||void 0===r?void 0:r.toString()})]}),Object(S.jsx)(j.a,{py:1,children:Object(S.jsxs)(h.a,{align:"center",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"," ",Object(S.jsx)(s.b,{to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})}),Object(S.jsx)(j.a,{py:1,children:Object(S.jsx)(x.a,{disabled:C,type:"submit",color:"primary",variant:"contained",fullWidth:!0,children:C?Object(S.jsx)(O.a,{size:24}):"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})]})})})})),ot=Object(w.a)({logo:{flexGrow:1,textTransform:"uppercase"}}),st=Object(o.b)((function(e){return e.system}),(function(e){return{appInit:Object(R.b)(ne,e),signOut:Object(R.b)(ce,e)}}))((function(e){var t=e.appInit,n=e.isInit,r=e.signOut,i=e.user;Object(a.useEffect)((function(){t()}),[]);var c=ot().logo;return Object(S.jsxs)($e.a,{theme:rt,children:[Object(S.jsx)(et.a,{}),Object(S.jsx)(tt.a,{variant:"elevation",color:"secondary",children:Object(S.jsxs)(nt.a,{children:[Object(S.jsx)(h.a,{variant:"h4",component:"h1",className:c,children:"Kanban"}),i&&Object(S.jsx)(x.a,{onClick:r,color:"primary",variant:"contained",children:"\u0412\u044b\u0445\u043e\u0434"})]})}),Object(S.jsx)(j.a,{mt:12,children:n?Object(S.jsx)(s.a,{children:Object(S.jsxs)(l.d,{children:[Object(S.jsx)(me,{path:"/signin",children:Object(S.jsx)(pe,{})}),Object(S.jsx)(me,{path:"/signup",children:Object(S.jsx)(ct,{})}),Object(S.jsx)(he,{path:"/",children:Object(S.jsx)(Ye,{})}),Object(S.jsx)(l.b,{children:Object(S.jsx)(l.a,{to:"/"})})]})}):Object(S.jsx)(j.a,{width:"100%",display:"flex",justifyContent:"center",children:Object(S.jsx)(O.a,{})})})]})})),lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,344)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},ut=n(333),dt=n(155);c.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(o.a,{store:$,children:Object(S.jsx)(ut.a,{backend:dt.a,children:Object(S.jsx)(st,{})})})}),document.getElementById("root")),lt()}},[[277,1,2]]]);
//# sourceMappingURL=main.3ab8a1ad.chunk.js.map